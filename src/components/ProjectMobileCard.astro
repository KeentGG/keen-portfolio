---
import TechLabel from './TechLabel.astro'

const { startColor, endColor, titleColor, textColor, photoName, title, text } =
    Astro.props
---

<div
    class="min-w-[20rem] basis-[calc(1/3-0.5rem)] max-w-fit w-fit flex-1 flex flex-row"
>
    <div
        class="max-w-[28rem] flex flex-row bg-cloud-800 rounded-2xl overflow-hidden
    gap-2 relative bg-gradient-to-b
    from-[var(--mobileStartColor)] to-[var(--mobileEndColor)] from-30%"
    >
        <div class="flex flex-row justify-between">
            <div
                class="relative z-20 perspective-1000 *:m-4 *:border-2 *:border-white
            *:max-w-[7rem] *:max-h-[13rem]"
            >
                <img
                    class="z-50 relative rounded-xl"
                    src={`/images/portfolio/${photoName}-1.png`}
                />
                <img
                    class="absolute mt-4 top-0 right-[-2.5rem] rounded-[10px] z-40 scale-[0.85] translate-z-px rotate-y-[30deg]"
                    src={`/images/portfolio/${photoName}-2.png`}
                />
                <img
                    class="absolute mt-4 top-0 right-[-4.3rem] rounded-[9px] z-30 scale-[0.75] translate-z-px rotate-y-[50deg]"
                    src={`/images/portfolio/${photoName}-3.png`}
                />
            </div>
            <div class="mt-8 mr-4 max-w-[40%] flex flex-col items-end gap-2">
                <div
                    class="text-[var(--mobileTextColor)] text-md text-right opacity-80"
                >
                    {text}
                </div>
                <div class="flex flex-row">
                    <TechLabel
                        accentColor={titleColor}
                        label="Flutter"
                        desaturate={10}
                    />
                </div>
            </div>
        </div>
        <div
            class="w-full p-4 bg-black/30 backdrop-blur-md absolute bottom-0
        z-10 flex flex-row justify-end"
        >
            <div class="text-[var(--mobileTitleColor)] font-semibold text-lg">
                {title}
            </div>
        </div>
    </div>
</div>

<style
    define:vars={{
        mobileTitleColor: titleColor,
        mobileStartColor: startColor,
        mobileEndColor: endColor,
        mobileTextColor: textColor,
    }}
></style>
